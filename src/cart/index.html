<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8" />

    <meta name="viewport" content="width=device-width, initial-scale=1.0" />

    <title>Sleep Outside | Cart</title>

    <link rel="stylesheet" href="/css/style.css" />

    <script src="../js/cart.js" type="module"></script>
  </head>

  <body>
    <header id="main-header" class="divider"></header>

    <main class="divider">
      <section class="products">
        <h2>My Cart</h2>

        <ul class="product-list"></ul>
          <div class="list-footer hide">
            <a href="/checkout/index.html">Checkout</a>
            <p class="list-total">Total:</p>
          </div> 
      </section>
      <section class="total"></section>

      <script>
        function getLocalStorage(key) {
          return JSON.parse(localStorage.getItem(key));
        }

        function setLocalStorage(key, data) {
          localStorage.setItem(key, JSON.stringify(data));
        }

        function deleteItem(Id) {
          const cart = getLocalStorage("so-cart");
          for (let i = 0; i < cart.length; i++) {
            if (cart[i].Id === Id) {
              cart.splice(i, 1);
              setLocalStorage("so-cart", cart);
              window.location.reload();
              return;
            }
          }
        }
      </script>
    </main>

    <footer id="main-footer"></footer>
  </body>
</html>
